{%- from "drbd/map.jinja" import drbd with context %}
# Managed by salt - do not edit

global {
{%- for key, value in drbd.get('conf', {}).get('global_common', {}).get('global', {}).items()|sort %}
  {%- if value not in [ '' ] %}
  {{ key }} {{ value }};
  {%- else %}
  {{ key }};
  {%- endif %}
{%- endfor %}
}

common {
  handlers {
{%- for key, value in drbd.get('conf', {}).get('global_common', {}).get('common', {}).get('handlers', {}).items()|sort %}
  {%- if value not in [ '' ] %}
    {{ key }} {{ value }};
  {%- else %}
    {{ key }};
  {%- endif %}
{%- endfor %}
  }

  startup {
{%- for key, value in drbd.get('conf', {}).get('global_common', {}).get('common', {}).get('startup', {}).items()|sort %}
  {%- if value not in [ '' ] %}
    {{ key }} {{ value }};
  {%- else %}
    {{ key }};
  {%- endif %}
{%- endfor %}
  }

  options {
{%- for key, value in drbd.get('conf', {}).get('global_common', {}).get('common', {}).get('options', {}).items()|sort %}
  {%- if value not in [ '' ] %}
    {{ key }} {{ value }};
  {%- else %}
    {{ key }};
  {%- endif %}
{%- endfor %}
  }

  disk {
{%- for key, value in drbd.get('conf', {}).get('global_common', {}).get('common', {}).get('disk', {}).items()|sort %}
  {%- if value not in [ '' ] %}
    {{ key }} {{ value }};
  {%- else %}
    {{ key }};
  {%- endif %}
{%- endfor %}
  }

  net {
{%- for key, value in drbd.get('conf', {}).get('global_common', {}).get('common', {}).get('net', {}).items()|sort %}
  {%- if value not in [ '' ] %}
    {{ key }} {{ value }};
  {%- else %}
    {{ key }};
  {%- endif %}
{%- endfor %}
  }
}
